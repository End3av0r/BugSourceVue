# 标签管理功能说明

## 功能概述

本系统已成功集成标签管理功能，支持对每个漏洞的标签进行增删改操作。

## 功能特性

### 1. 标签管理组件 (VulnTagManager)
- **位置**: `src/components/VulnTagManager.vue`
- **功能**: 
  - 显示当前漏洞的所有标签
  - 支持添加新标签
  - 支持删除现有标签
  - 实时更新标签状态

### 2. API接口集成
- **位置**: `src/api/vulnerability.js`
- **新增接口**:
  - `addVulnTag(vulnId, tag)`: 添加漏洞标签
  - `deleteVulnTag(vulnId, tag)`: 删除漏洞标签

### 3. 页面集成

#### 3.1 漏洞详情页面
- **位置**: `src/views/VulnerabilityDetail.vue`
- **集成**: 在漏洞详情页面中集成了标签管理组件
- **功能**: 用户可以查看和编辑当前漏洞的标签

#### 3.2 最新漏洞列表页面
- **位置**: `src/views/LatestVulnerabilities.vue`
- **集成**: 在漏洞列表的标签列中集成了标签管理组件
- **功能**: 用户可以直接在列表中管理每个漏洞的标签

#### 3.3 标签管理专用页面
- **位置**: `src/views/TagManagement.vue`
- **路由**: `/tag-management`
- **功能**:
  - 标签统计信息展示
  - 标签搜索和筛选
  - 批量标签管理
  - 所有漏洞的标签统一管理

## 使用方法

### 1. 访问标签管理页面
1. 在侧边栏导航中点击"标签管理"
2. 或直接访问 `/tag-management` 路由

### 2. 添加标签
1. 在标签管理组件中点击"添加标签"按钮
2. 在弹出的模态框中输入标签内容
3. 点击确认添加

### 3. 删除标签
1. 在标签显示区域，点击标签右侧的"×"按钮
2. 确认删除操作

### 4. 搜索和筛选
1. 在标签管理页面使用搜索框输入关键词
2. 使用标签下拉框选择特定标签进行筛选
3. 点击"重置筛选"清除所有筛选条件

## 后端接口说明

### 添加标签接口
- **路径**: `POST /api/vuln/add_tag`
- **参数**: 
  ```json
  {
    "vulnId": 123,
    "tag": "SQL注入"
  }
  ```

### 删除标签接口
- **路径**: `POST /api/vuln/delete_tag`
- **参数**:
  ```json
  {
    "vulnId": 123,
    "tag": "SQL注入"
  }
  ```

## 技术实现

### 1. 组件设计
- 使用 Vue 3 Composition API
- 响应式数据管理
- 事件驱动的组件通信

### 2. 状态管理
- 本地状态管理，实时同步
- 父子组件通信通过 props 和 emit
- 数据更新后自动刷新相关页面

### 3. 用户体验
- 加载状态提示
- 操作成功/失败反馈
- 防重复提交保护
- 输入验证和错误处理

## 注意事项

1. **权限控制**: 当前所有用户都可以管理标签，如需权限控制请在后端添加相应的权限验证
2. **数据同步**: 标签更新后会实时同步到所有相关页面
3. **错误处理**: 网络错误或服务器错误会显示相应的提示信息
4. **性能优化**: 大量数据时建议使用分页加载

## 扩展建议

1. **标签分类**: 可以为标签添加分类功能
2. **标签统计**: 可以添加标签使用频率统计
3. **批量操作**: 可以支持批量添加/删除标签
4. **标签建议**: 可以基于历史数据提供标签建议功能
